<ion-header>
    <ion-navbar>
        <ion-title>Tickets</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>

    <div class="ticket-list">
        <div *ngIf="tickets?.length === 0">
            <ion-note>
                Buy some tickets dude!
            </ion-note>
        </div>
        <div class="ticket-item" *ngFor="let ticket of tickets" (tap)="onSelect(ticket)">
            <div class="movie-content">
                <div class="movie-summary">
                    <div class="poster">
                        <div class="content">
                            <img src="{{movies[ticket.movieId]?.poster}}">
                        </div>
                    </div>
                    <div class="item-content">
                        <span class="title">{{movies[ticket.movieId]?.name}}</span>
                        <span class="genre ">{{movies[ticket.movieId]?.genres | join:" | "}}</span>
                        <span class="line"> 
                            <span class="duration">{{duration(movies[ticket.movieId]?.duration)}}</span>
                        </span>
                        <span class="tech">{{ticket.techId}}</span>
                        <span class="time">{{ticket.time | moment:"D/MM/YYYY"}} at {{ticket.time | moment:"HH:mm"}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

</ion-content>